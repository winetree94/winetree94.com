---
import type { SupportedLanguageCodes } from "@/lib/language";
import IndentLine from "../../components/IndentLine.astro";
import { useTranslation } from "../../i18n/utils";
import type { OpenSourceExperience } from "../../types/open-source";

type Props = {
  lang: SupportedLanguageCodes;
  opensourceExperience: OpenSourceExperience[];
};

const { opensourceExperience } = Astro.props;
const t = useTranslation(Astro.props.lang);
---

<h3 id="open_source" class="text-2xl font-bold">
  {t("about.open_source")}
</h3>
<IndentLine class="flex flex-col gap-4">
  {
    opensourceExperience.map((exp) => (
      <div class="p-3">
        <div class="flex flex-row justify-between">
          <div>
            <h2 class="text-3xl">{t(exp.projectName)}</h2>
            <p class="text-sm">
              <a
                class="break-all"
                href={`https://${t(exp.publicLink)}`}
                target="_blank"
              >
                <i class="ri-links-line" />
                {t(exp.publicLink)}
              </a>
            </p>
          </div>
          <div class="inline-flex flex-col items-end">
            <span class="text-sm">
              <i class="ri-calendar-line" />
              {t(exp.period)}
            </span>
          </div>
        </div>
        <p class="mt-4">{t(exp.description)}</p>
        <ul class="mt-2 list-inside list-disc">
          {exp.features.map((feature) => (
            <li class="ml-6 list-outside">{t(feature)}</li>
          ))}
        </ul>
      </div>
    ))
  }
</IndentLine>
