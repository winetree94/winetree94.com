---
import IndentLine from '../../components/IndentLine.astro';
import { getCurrentLangCode } from '../../i18n/utils';
import { useTranslation } from '../../i18n/utils';
import type { OpenSourceExperience } from '../../types/open-source';

type Props = {
  opensourceExperience: OpenSourceExperience[];
};

const { opensourceExperience } = Astro.props;
const langCode = getCurrentLangCode(Astro.url);
const t = useTranslation(langCode);
---
<h3 id="open_source" class="font-bold">
  {t("about.open_source")}
</h3>
<IndentLine class="flex flex-col gap-4">
  {
    opensourceExperience.map((exp) => (
      <div class="p-3">
        <div class="flex justify-between flex-row">
          <div>
            <h2>{t(exp.projectName)}</h2>
            <p class="text-sm">
              <a
                class="text-black-950 break-all"
                href={`https://${t(exp.publicLink)}`}
                target="_blank"
              >
                <i class="ri-links-line" />
                {t(exp.publicLink)}
              </a>
            </p>
          </div>
          <div class="inline-flex flex-col items-end">
            <span class="text-sm">
              <i class="ri-calendar-line" />
              {t(exp.period)}
            </span>
          </div>
        </div>
        <p class="mt-4">{t(exp.description)}</p>
        <ul class="list-disc list-inside mt-2">
          {exp.features.map((feature) => (
            <li class="list-outside ml-6">{t(feature)}</li>
          ))}
        </ul>
      </div>
    ))
  }
</IndentLine>
