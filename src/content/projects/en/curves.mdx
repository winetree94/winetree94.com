---
title: 'Smooth Pen Input with Curves'
description: 'Curves'
pubDate: "Jan 16 2023"
heroImage: "/projects/curves/hero.gif"
---

import Image from "../../../components/Image.astro";
import Warning from "../../../components/Warning.astro";
import Windows from "../../../components/Windows.astro";

<Warning>
  This project is in Public Archive status and is no longer maintained.
</Warning>

<Image width={802} height={408} src="/projects/curves/hero.gif" />

Curves is a vector optimization utility that analyzes the relationships between points and optimizes them to create smooth curves. The project is managed on [Github](https://github.com/winetree94/VectorOptimizer) and is available via [NPM](https://www.npmjs.com/package/vector-optimizer). You can try out the project with the [Live Preview](https://winetree94.github.io/VectorOptimizer).

> This project is a JavaScript/TypeScript reimplementation of [Bobby Fraser's 'Curves' C# Project](https://gitlab.com/burningmime/curves).

<br />

---

### How It Works

Imagine providing users the ability to draw something in a browser using a pen or mouse. Typically, the cursor movements are tracked, and points are recorded as shown below.

<Image width={402} height={327} src="/projects/curves/1.png" />

Users, however, expect a continuous line, not just a series of points. If we simply connect these points with straight lines, the result looks like this:

<Image width={395} height={325} src="/projects/curves/2.png" />

While this is somewhat acceptable, there are several issues:

- The large number of points and lines increases the data size of the drawing, leading to higher storage costs.
- Complex drawings result in significant performance degradation due to the increased vector calculations.
- Users draw curves, but end up with jagged lines instead.

Curves addresses these issues by analyzing the relationships between the points and optimizing them to reduce the number of points at regular intervals using linear interpolation. The optimized points look like this:

<Image width={393} height={319} src="/projects/curves/3.png" />

Based on this, it then finds the most optimized cubic BÃ©zier curve to complete the drawing. The final result is shown below:

<Image width={396} height={326} src="/projects/curves/4.png" />

As you can see, the number of lines has significantly decreased while still accurately representing the user's drawn curve. If needed, the level of optimization can be adjusted to make the user's input appear even more natural.